---
title: '#howto – Installazione di VestaCP su Centos 7/Debian/Ubuntu'
published: 2019-05-31
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - nginx  
  - apache  
  - mysql  
  - vestacp  
  - php  
  - bash
---
<p><strong>VestaCP</strong> è una delle tante soluzioni gratuite ed open source che permette di avere una completa e rapida&nbsp;gestione del proprio web server.</p><p>Come altri pannelli di controllo in grado di facilitare le operazioni di un webmaster, VestaCP offre una completa gestione di: siti web, database, email, zone DNS, ftp, utenti ed una sezione firewall che permette la gestione di <strong>iptables</strong> da&nbsp;interfaccia grafica.</p><blockquote><p>Importante è da tenere in considerazione che questo applicativo non funziona su macchine in cui è già presente una installazione di Nginx, Apache, php-fpm, mysql o altri pannelli.</p></blockquote><p>In questa guida vediamo come installare il pannello su Centos 7, Debian o Ubuntu e derivate.</p><h2>Requisiti</h2><p>Citando il sito ufficiale del progetto, i requisiti minimi sono:</p><ul>	<li>512 Mb di RAM</li>	<li>20 Gb di spazio</li>	<li>1 Ghz di CPU</li>	<li>Centos 7 o Debian o Ubuntu e derivate</li>	<li>Un <a href="https://linuxhub.it/article/howto-puntare-un-dominio-ad-un-ip">dominio che punta all'indirizzo IP</a> del server</li></ul><h2>Installazione</h2><p>Questa sarà in realtà una sezione molto breve, poichè l'installazione è&nbsp;resa semplice dal team di sviluppo che ha sviluppato uno script di installazione automatizzata.</p><p>Vediamo quindi due metodi di installazione (semplificata e personalizzata), in entrambi i casi sfruttando lo script di installazione ufficiale.</p><blockquote><p>Ricordate di creare 2 record di tipo A (ns1, ns2) nei DNS del dominio che punta al server su cui andiamo ad installare VestaCP, questi devono puntare a loro volta all'indirizzo IP del server.</p></blockquote><h3>Installazione semplificata</h3><p>Sfruttando questo metodo, possiamo installare VestaCP completo di Nginx e Apache, vsftpd, iptables e fail2ban, softacolus per l'installazione semplificata di software, exim, dovecot, spamassassin e clamav antivirus.</p><p>Prima di tutto scarichiamo lo script di installazione sulla macchina in cui vogliamo installare VestaCP:</p><pre><code>curl -O http://vestacp.com/pub/vst-install.sh</code></pre><p>successivamente avviamo l'installazione dallo script appena scaricato:</p><pre><code>curl -O http://vestacp.com/pub/vst-install.sh</code></pre><p>seguiamo infine le istruzioni che ci vengono fornite, riavviamo una volta terminato.</p><p>Visitando infine il dominio o l'indirizzo IP del server dalla porta 8083, esempio <strong>127.0.0.1:8083</strong>, abbiamo accesso al pannello appena installato.</p><h3>Installazione personalizzata</h3><p>Questo tipo di installazione sfrutta le opzioni della precedente e ci permette di scegliere quale software installare.</p><p>Come per l'installazione precedente, scarichiamo lo script di installazione sulla macchina in cui vogliamo installare il pannello:</p><pre><code>curl -O http://vestacp.com/pub/vst-install.sh</code></pre><p>poi teniamo in considerazione le seguenti opzioni configurabili:</p><ul>	<li>--nginx</li>	<li>--apache</li>	<li>--phpfpm</li>	<li>--named</li>	<li>--remi</li>	<li>--vsftpd</li>	<li>--proftpd</li>	<li>--iptables</li>	<li>--fail2ban</li>	<li>--quota</li>	<li>--exim</li>	<li>--dovecot</li>	<li>--spamassassin</li>	<li>--clamav</li>	<li>--softaculous</li>	<li>--mysql&nbsp;</li>	<li>--postgresql</li>	<li>--hostname</li>	<li>--user</li>	<li>--password</li></ul><p>a differenza delle ultime tre, ognuna di queste opzioni supporta un&nbsp;valore a scelta tra&nbsp;<strong>yes</strong>&nbsp;e&nbsp;<strong>no</strong>, il che significa se vogliamo che lo script installi o meno quel determinato componente. Possiamo quindi scegliere se installare Nginx rispetto Apache o se installarli entrambi, scegliere se vogliamo o meno softacolus.</p><p>Una volta fatte le nostre scelte, proseguiamo in questo modo:</p><pre><code>bash vst-install.sh --nginx yes --apache yes --phpfpm no --named yes --remi yes --vsftpd yes --proftpd no --iptables yes --fail2ban yes --quota no --exim yes --dovecot yes --spamassassin yes --clamav yes --softaculous yes --mysql yes --postgresql yes --hostname MIOSERVER --email MIAEMAIL --password MIAPASSWORD</code></pre><p>ovviamente avendo premura di cambiare il valore di:</p><ul>	<li>--hostname</li>	<li>--user</li>	<li>--password</li></ul><p>con i dati corretti.</p><p>Come per la precedente installazione, riavviamo e visitando la porta 8083 del server possiamo accedere al pannello appena installato.</p><h2>Disinstallazione</h2><p>Nel caso in cui vogliamo rimuovere VestaCP dal server, possiamo procedere in questo modo.</p><p>Per prima cosa fermiamo il processo dall'esecuzione via systemctl:</p><pre><code>sudo systemctl stop vesta</code></pre><p>procediamo poi con la rimozione dei pacchetti:</p><p><strong>RHEL/Centos</strong>:</p><pre><code>sudo yum remove vesta*sudo rm -f /etc/yum.repos.d/vesta.repo</code></pre><p><strong>Debian/Ubuntu</strong>:</p><pre><code>sudo apt-get remove vesta*sudo rm -f /etc/apt/sources.list.d/vesta.list</code></pre><p>ed infine in entrambe le distribuzioni, eliminiamo i dati:</p><pre><code>sudo rm -rf /usr/local/vesta</code></pre><p>e riavviamo la macchina.</p><p>&nbsp;</p><p><em>Good&nbsp;<strong>*nix</strong>?</em><br /><em>&nbsp;- Mirko</em></p>