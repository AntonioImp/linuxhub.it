---
title: '#howto – Rimuovere i vecchi kernel da Debian e Fedora/CentOS'
published: 2019-04-05
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:

---
<p>Disinstallare i vecchi kernel inutilizzati&nbsp;è un ottimo metodo per recuperare spazio e alleggerire il sistema in generale.</p><p>Buona norma è quella di mantenere le ultime due versioni più recenti installate, rimuovendo le precedenti, questo per prevenire l'impossibilità di accedere al proprio ssitema nel caso di una versione incompatibile.</p><blockquote><p>Prima di procedere con la guida, accertiamoci di aver installato i più recenti aggiornamenti e riavviato con l'ultima versione del kernel disponibile (possiamo selezionarlo direttamente da GRUB se presente).</p></blockquote><p>In questa guida vediamo come è possibile rimuovere i vecchi kernel su Debian e&nbsp;Fedora/CentOS.</p><h2>Debian e derivate</h2><p>Su Debian, Ubuntu e derivati, quesa operazione è facilitata da APT, il gestore pacchetti predefinito di sistema:</p><pre><code>sudo apt autoremove --purge</code></pre><p>questa operazione andrà ad eliminare tutte le vecchie versioni presenti del kernel, mantenendo le ultime due, rimuoverà inoltre possibili vecchie dipendenze non più necessarie e quindi obsolete allo scopo.</p><p>Nel caso venga restituito un errore, accertiamoci che non siano presenti aggiornamenti in sospeso:</p><pre><code>sudo apt install -fsudo apt update</code></pre><p>ed&nbsp;effettuiamo nuovamente l'operazione.</p><h2>Fedora/CentOS</h2><p>Il metodo più comune e pronto all'uso, è quello di sfruttare&nbsp;<strong>package-cleanup</strong>&nbsp;offerto da&nbsp;<strong>yum-utils</strong>&nbsp;installabile digitando:</p><pre><code>yum install yum-utils</code></pre><p>nel caso non fosse presente. Proseguiamo poi con&nbsp;la rimozione dei kernel meno recenti:</p><pre><code>package-cleanup --oldkernels --count=2</code></pre><p>dove:</p><ul>	<li><strong>--oldkernels</strong>&nbsp;identifica ovviamente i vecchi kernel obsoleti installati nel sistema</li>	<li><strong>--count</strong>&nbsp;il numero di versioni da mantenere nel sistema (consigliati&nbsp;2)</li></ul><h3>Metodo manuale</h3><p>Per prima cosa dobbiamo controllare la versione del kernel al momento in uso dal sistema, il metodo più semplice è digitando:</p><pre><code>uname -r</code></pre><p>una volta identificata la versione corrente (ipotesi <strong>4.20.1-1.el7.elrepo.x86_64</strong>), controlliamo le versioni installate:</p><pre><code>rpm -q kernel</code></pre><p>l'output sarà una lista di kernel nel formato:&nbsp;<strong>kernel-x.x86_64</strong>.</p><p>Eliminiamo da questa lista la versione al momento in uso e quella più recente rispetto ad essa:</p><pre><code>yum remove kernel-versione</code></pre><p>sostituendo&nbsp;<strong>kernel-versione</strong>&nbsp;all'esatto contenuto di una delle righe restituite da comando&nbsp;<strong>rpm -q kernel</strong>.</p><p>&nbsp;</p><p>Per dubbi e chiarimenti, utilizzate il nostro&nbsp;<a href="https://t.me/gentedilinux">gruppo Telegram</a>.</p><p><em>?Good *nix&nbsp;</em><strong><em>_Mirko</em></strong></p>