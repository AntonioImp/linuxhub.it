---
title: "#howto - Utilizzo del comando 'dmesg'"
published: 2018-07-16
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - bash
---
<!-- wp:paragraph --><p>Quando il sistema è attivo e in esecuzione, se si connette un dispositivo hardware, viene caricato anche il driver corrispondente. Naturalmente, il kernel fa anche molte altre cose. Spesso e volentieri é utile controllare le informazioni di questa operazione e lo possiamo fare attraverso dmesg.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>L'utilizzo di questo comando torna spesso utile su macchine di produzione, dove un aggiornamento o un nuovo hardware puó causare conflitti. Grazie a questo comando possiamo identificare in poco tempo il malfunzionamento e procedere alla correzione.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Il comando dmesg consente infatti, di stampare o controllare il buffer del kernel.</p><!-- /wp:paragraph --><!-- wp:heading --><h2>Sintassi</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Vediamo la sintassi del comando:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">dmesg [opzioni]</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>L'output é abbastanza lungo ma di facile comprensione, ogni riga é ben documentata.</p><!-- /wp:paragraph --><!-- wp:image {"id":6399} --><!-- /wp:image --><!-- wp:heading --><h2>Filtrare gli errori</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Per quanto facile possa essere leggere l'output, torna spesso utile filtrare per un certo livello.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Ogni riga/log viene classificata con un livello di importanza, i seguenti:</p><!-- /wp:paragraph --><!-- wp:list --><ul>	<li>emerg - Sistema inutilizzabile</li>	<li>alert - Azione immediata richiesta</li>	<li>crit - Critico</li>	<li>err - Errore</li>	<li>warn - Avviso</li>	<li>notice - Normale</li>	<li>info - Informazione</li>	<li>debug - Informazioni per sviluppatori</li></ul><!-- /wp:list --><!-- wp:paragraph --><p>Nel nostro caso vogliamo visualizzare solo i log con livello: warn, quindi solo avvisi:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">dmesg --level=warn</code></pre><!-- /wp:preformatted --><!-- wp:heading --><h2>Data e dispositivi</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Se si sta cercando un log in particolare e si conosce la fascia oraria in cui é stato creato, possiamo utilizzare la flag -T per visualizzare la Timestamp del log:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">dmesg -T</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Nel caso in cui dobbiamo trovare il log di un dispositivio in particolare di cui conosciamo il nome, possiamo procedere in questo modo, nel nostro caso cerchiamo il log di eth0:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">dmesg | grep -i eth0</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Per dubbi e chiarimenti, utilizzate il box dei commenti qui sotto.</p><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><p><em>?Good *nix </em><strong><em>_Mirko</em></strong></p><!-- /wp:paragraph -->