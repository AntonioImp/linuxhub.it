---
title: '#howto - Installazione di Ghost CMS su Debian/Ubuntu e derivate'
published: 2019-09-12
layout: post
author: Hersel Giannella
author_github: hersel
tags:
  - debian  - mysql  - ubuntu  - systemd  - systemd
---
<p>Ghost&nbsp;è una piattaforma di blogging gratis e open source, creato per semplificare il processo di pubblicazione online per blogger e testate.</p><p>In questo articolo vediamo come installarlo e configurarlo.</p><blockquote><p>Requisito fondamentale è NodeJS, che deve essere presente sulla nostra macchina a questo proposito vi rimando alla nostra guida su come <a href="https://linuxhub.it/article/howto-installare-node-version-manager-nvm-su-debian-9">installare NodeJS su Debian 9</a>.</p></blockquote><h2>Requisiti</h2><p>In questa installazione andremo ad usare Nginx come Web Server e MariaDB come Database Server, ricapitolando quindi:</p><ul>	<li>NodeJS</li>	<li>NGINX</li>	<li>MariaDB (leggi la sezione <a href="https://linuxhub.it/article/howto-installare-lamp-su-ubuntu-debian-e-derivate#title4">qui</a>)</li>	<li>CERTBOT(facoltativo)</li></ul><h2>Preparazione del database</h2><p>Procediamo per prima cosa, con la creazione del nostro database e nome utente da dedicare poi all'installazione del CMS, da console mysql quindi, accessibile mediante:</p><pre><code>sudo mysql -u root -p</code></pre><p>creiamo un nuovo database:</p><pre><code>CREATE DATABASE ilmiodb;</code></pre><p>&nbsp;dove <strong>ilmiodb </strong>è il nome del nuovo database. Creiamo poi il nostro nuovo utente:</p><pre><code>CREATE USER il_mio_user@localhost IDENTIFIED BY 'la_mia_password';</code></pre><p>dove:</p><ul>	<li><strong>il_mio_user</strong> - è il nome utente con cui faremo accesso al database</li>	<li><strong>la_mia_password</strong> - è la password del nostro utente</li></ul><p>ed impostiamo i permessi per l'accesso al database:</p><pre><code>GRANT ALL PRIVILEGES ON ilmiodb.* TO il_mio_user@localhost;FLUSH PRIVILEGES;</code></pre><p>infine chiudiamo la console:</p><pre><code>exit</code></pre><h2>Installazione</h2><p>L'installazione si suddivide in due step:</p><ul>	<li>Installazione della cli</li>	<li>Installazione del cms</li></ul><h3>Installazione della cli</h3><p>Per prima cosa, supponendo di aver installato NodeJS e quindi npm (node package manager) nel nostro sistema, andiamo ad installare <strong>ghost-cli</strong>, lo strumento completo offerto dagli sviluppatori, per facilitarne l'installazione:</p><pre><code>sudo npm install -g ghost-cli@latest</code></pre><p>Una volta completata l'installazione del software, andiamo a creare la locazione dove posizioneremo successivamente il CMS, ad esempio in <strong>/var/www</strong>:</p><pre><code>sudo mkdir /var/www/ghost</code></pre><p>ed impostiamo i permessi corretti:</p><pre><code>sudo chown -R $USER:$USER /var/www/ghostsudo chmod -R 775 /var/www/ghost</code></pre><p>dove <strong>$USER</strong> corrisponde ad un utente esistente nel sistema, nel nostro esempio <strong>hersel:hersel</strong>.</p><h3>Installazione del CMS</h3><p>Andiamo ora finalmente ad installare il CMS, portiamoci quindi nella locazione precedentemente creata:</p><pre><code>cd /var/www/ghost/</code></pre><p>ed avviamo l'installazione guidata tramite comando <strong>ghost</strong>:</p><pre><code>ghost install</code></pre><p>il che dovrebbe restituire un output simile al seguente:</p><pre><code>hersel@debianhersy:/var/www/ghost$ ghost install? Checking system Node.js version? Checking logged in user? Checking current folder permissionsSystem checks failed with message: 'Linux version is not Ubuntu 16 or 18'Some features of Ghost-CLI may not work without additional configuration.For local installs we recommend using `ghost install local` instead.? Continue anyway? (y/N)</code></pre><blockquote><p>Nel caso in cui lo script rilevi un sistema differente da Ubuntu, procedete con <strong>Yes</strong> al prossimo step.</p></blockquote><p>entro qualche minuto ci verrà chiesto di inserire l'indirizzo del nostro blog:</p><pre><code>? Enter your blog URL: (http://localhost:2368)</code></pre><p>a questa domanda possiamo rispondere in due modi:</p><ul>	<li>nel caso in cui vogliamo installare ed eseguire in locale il nostro blog, lasciamo il campo vuoto e procediamo con invio</li>	<li>se vogliamo invece rendere reperibile il nostro blog in rete, ci basterà inserire l'indirizzo del nostro dominio, il quale dovrà puntare al server (leggi come <a href="https://linuxhub.it/article/howto-puntare-un-dominio-ad-un-ip">qui</a>). Quindi, nell'esempio di questo blog, il dominio è linuxhub.it, andiamo quindi ad inserire <strong>https://linuxhub.it</strong></li></ul><p>Importante tenere in considerazione che, per quanto riguarda le installazioni con dominio, dobbiamo rispondere <strong>Yes</strong> alle seguenti domande quando ci verranno poste:</p><pre><code>? Do you wish to set up Nginx? yes? Do you wish to set up SSL? yes</code></pre><p>Successivamente ci verrà chiesto di inserire i dati del nostro database (precedentemente creato) da dedicare all'installazione:</p><pre><code>? Enter your MySQL hostname: localhost? Enter your MySQL username: hersel? Enter your MySQL password: [hidden]? Enter your Ghost database name: ghost</code></pre><p>Seguiranno poi altri step a cui rispondere <strong>Yes</strong> o <strong>No</strong>, normalmente procedo con risposta positiva a tutti gli step. Una volta terminata l'installazione, dovremmo ricevere un output simile al seguente:</p><pre><code>Ghost is already running! For more information, run:    ghost ls</code></pre><p>digitiamo quindi:</p><pre><code>ghost ls</code></pre><p>per ricevere un output di questo tipo:</p><pre><code>hersel@debianhersy:/var/www/ghost$ ghost ls+ sudo systemctl is-active ghost_151-**-188-***??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? Name           ? Location       ? Version ? Status               ? URL                    ? Port ? Process Manager ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 151-**-188-*** ? /var/www/ghost ? 2.31.0  ? running (production) ? http://localhost:2369/ ? 2369 ? systemd         ???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????</code></pre><p>Nel mio caso l'installazione è locale, il risultato sarà diverso nel caso abbiate scelto l'installazione pubblica tramite Nginx e SSL.</p><p>Ci basterà ora visitare l'indirizzo per proseguire con la procedura di configurazione guidata direttamente dal nostro browser.</p>