---
title: "#howto – Utilizzo del comando 'chpasswd'"
published: 2018-08-30
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - bash
---
<!-- wp:paragraph --><p>L'utilizzo del comando chpasswd si applica principalmente in un contesto produttivo dove si vede la condivisione di una macchina con piú utenti.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Questo comando mette a disposizione dell'Amministrazione, la capacitá di modificare la password di piú utenti simultaneamente, evitando frustanti perdite di tempo.</p><!-- /wp:paragraph --><!-- wp:heading --><h2>Sintassi</h2><!-- /wp:heading --><!-- wp:paragraph --><p>La sintassi del comando é per lo piú standard:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">chpasswd [opzioni]</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Il comando legge le informazioni dalle istruzioni che gli forniamo. Istruzioni che devono seguire il seguente schema:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">username:password</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Fornendo una lista di username con relativa password in linea con lo schema, si andranno a modificare le password degli utenti citati con la nuova fornita.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Le password devono essere di tipo testuale, sará compito del comando criptarle.</p><!-- /wp:paragraph --><!-- wp:heading --><h2>Utilizzo del comando</h2><!-- /wp:heading --><!-- wp:paragraph --><p>L'utilizzo é estremamente semplice, digitiamo e inviamo al Terminale:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">chpasswd</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>di conseguenza qualsiasi altra risposta inviata al comando verrá interpretata con istruzione, ad esempio inviando:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">mario:nuovaPassword123#</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>verrá cambiata la password dell'utente mario con: nuovaPassword123#.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Una volta modificate le password utente, usciamo dal comando inviando EOF, ossia digitando:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code>Ctrl+D</code></pre><!-- /wp:preformatted --><!-- wp:heading --><h2>Crittografia</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Normalmente le password vengono criptate da PAM.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>É possibile istruire il comando per imporre un differente metodo di crittografia tramite l'opzione -c. Ad esempio per imporre il formato MD5:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">chpasswd -c MD5</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Nel caso fosse necessario fornire password giá criptate, possiamo usare l'opzione -e ossia:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">chpasswd -e</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>e di conseguenza inviare le password giá criptate, sempre nella struttura:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code>username:password</code></pre><!-- /wp:preformatted --><!-- wp:heading --><h2>Istruzioni via file</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Un buon trucco é quello che scrivere un file/documento contenente le combinazioni di password, esempio:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code>mario:nuovaPassword123#luigi:nuovaPassword987$</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>e impartirli con cat:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">cat [file] | chpasswd</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Ad esempio se il nostro file si chiama lista_password.txt, esempio:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">cat lista_password.txt | chpasswd</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Per dubbi e chiarimenti, utilizzate il box dei commenti qui sotto.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p><em>?Good *nix&nbsp;</em><strong><em>_Mirko</em></strong></p><!-- /wp:paragraph -->