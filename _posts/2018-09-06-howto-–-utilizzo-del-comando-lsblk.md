---
title: "#howto – Utilizzo del comando 'lsblk'"
published: 2018-09-06
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - bash
---
<!-- wp:paragraph --><p>Il comando in questione "lsblk" é di fatto uno strumento molto utile nella consultazione dei blocchi dispositivo.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Per blocchi dispositivo s'intende file speciali di sistema che identificano o referenziano un dispositivo su Linux, che puó essere un hard disk come una pennetta USB.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>L'utilizzo di questo strumento torna molto utile nelle situazioni di partizionamento e gestione dei dispositivi (come il montaggio, la rimozione e la creazione di RAID/LVM e sistemi simili).</p><!-- /wp:paragraph --><!-- wp:heading --><h2>Sintassi</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Il comando é composto dalla seguente sintassi:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk [opzioni] [blocco]</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>Interpretando la struttura abbiamo due valori opzionali:</p><!-- /wp:paragraph --><!-- wp:list --><ul>	<li>un insieme di flag [opzioni] per appunto opzioni e filtri</li>	<li>la direttiva [blocco] che specifica su quale blocco andremo a lavorare</li></ul><!-- /wp:list --><!-- wp:heading --><h2>Utilizzo del comando</h2><!-- /wp:heading --><!-- wp:paragraph --><p>Questo strumento é come molti altri, disponibile senza particolari opzioni, basterá infatti digitare:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>per sfogliare l'output con tutti i blocchi di sistema.</p><!-- /wp:image --><!-- wp:paragraph --><p>Nel mio screenshot viene visualizzata la modalitá ad albero che non é abilitata di defualt in tutte le distribuzioni Linux, per mostrare l'output in questo variante possiamo usare la flag -i:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk -i</code></pre><!-- /wp:preformatted --><!-- wp:heading {"level":3} --><h3>Struttura output</h3><!-- /wp:heading --><!-- wp:paragraph --><p>La struttura é facilmente intuibile, abbiamo:</p><!-- /wp:paragraph --><!-- wp:list --><ul>	<li>la colonna [NOME] che identifica il nome del blocco (non del dispositivo) che di norma é composto da caratteri o caratteri e numeri</li>	<li>la colonna [MAJ:MIN] che corrispondono al numero maggiore e minore di dispositivi</li>	<li>la colonna [RM] che identifica se un dispositivo é removibile o meno (1 se True, 0 se False)</li>	<li>la colonna [SIZE] con ovviamente la capacitá supportata dal dispositivo</li>	<li>la colonna [TYPE] ossia la tipologia di dispositivo (disco, partizione)</li>	<li>e [MOUNTPOINT] ovvero la path in cui il dispositivo é stato montato (se non presente, il dispositivo non é montato)</li></ul><!-- /wp:list --><!-- wp:heading {"level":3} --><h3>Visualizzazione in byte</h3><!-- /wp:heading --><!-- wp:paragraph --><p>Di base lsblk mostra un output con dimensioni facilitate (1MB, 1GB, ..) ma é possibile forzarlo per mostrare le dimensioni in byte, tramite la flag -b:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk -b</code></pre><!-- /wp:preformatted --><!-- wp:heading {"level":3} --><h3>Proprietari, gruppi e permessi</h3><!-- /wp:heading --><!-- wp:paragraph --><p>Nel caso fosse necessario identificare quale proprietario, gruppi e permessi ha un dispositivo, possiamo sfruttare la flag -m:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk -m</code></pre><!-- /wp:image --><!-- wp:paragraph --><p>in questo modo avremo 3 nuove colonne:</p><!-- /wp:paragraph --><!-- wp:list --><ul>	<li>[OWNER] ossia il proprietario del dispositivo</li>	<li>[GROUP] il gruppo di cui fa parte</li>	<li>[MODE] ossia i permessi con cui é stato montato il dispositivo, in questo caso lettura/scrittura</li></ul><!-- /wp:list --><!-- wp:heading {"level":3} --><h3>Filtrare per colonna</h3><!-- /wp:heading --><!-- wp:paragraph --><p>Soprattutto su sistemi con molte partizioni, torna utile poter filtrare per colonne l'output, evitando di perdere tempo con dati confusionari, per fare ció usiamo la flag -o:</p><!-- /wp:paragraph --><!-- wp:preformatted --><pre><code class="language-bash">lsblk -o NAME,RM</code></pre><!-- /wp:preformatted --><!-- wp:paragraph --><p>nel nostro caso l'output sará con le sole colonne NAME e RM.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>In questo articolo ho citato LVM, leggi di piú e scopri&nbsp;<a href="https://linuxhub.it/article/howto-cose-e-come-estendere-il-volume-lvm">Cos’è e come estendere il volume LVM</a>.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p>Per dubbi e chiarimenti, utilizzate il box dei commenti qui sotto.</p><!-- /wp:paragraph --><!-- wp:paragraph --><p><em>?Good *nix&nbsp;</em><strong><em>_Mirko</em></strong></p><!-- /wp:paragraph -->