---
title: '#howto - Installazione e configurazione di Microsoft SQL Server su Centos 7'
published: 2019-09-23
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - rhel  
  - bash
---
<p>Dalla release del 2017, Microsoft SQL Server è disponibile per sistemi Linux in modo nativo.</p><p>In questa guida vediamo come installare l'SQL Server di Microsoft su Centos 7, tramite la repository ufficiale.</p><h2>Configurazione repository</h2><p>Per prima cosa dobbiamo scegliere la repository di nostro interesse, al momento Microsoft ne offre di 3 tipologie:</p><ul>	<li><strong>CU</strong> (Cumulative Updates)</li>	<li><strong>DGR </strong>(General Distribution Release)</li>	<li><strong>Preview</strong> (l'anteprima per la versione 2019 nel momento in cui scrivo l'articolo)</li></ul><p>Eseguiamo quindi il relativo comando per la versione scelta della repository.</p><p><strong>Cumulative Updates</strong></p><pre><code class="language-bash">sudo curl -o /etc/yum.repos.d/mssql-server.repo https://packages.microsoft.com/config/rhel/7/mssql-server-2017.repo</code></pre><p><strong>General Distribution Release</strong></p><pre><code class="language-bash">sudo curl -o /etc/yum.repos.d/mssql-server.repo https://packages.microsoft.com/config/rhel/7/mssql-server-2017-gdr.repo</code></pre><p><strong>Preview</strong></p><pre><code class="language-bash">sudo curl -o /etc/yum.repos.d/mssql-server.repo https://packages.microsoft.com/config/rhel/7/mssql-server-preview.repo</code></pre><h2>Installazione</h2><p>Una volta configurata la repository possiamo procedere con l'installazione vera e propria, procediamo quindi tramite <strong>yum</strong>:</p><pre><code class="language-bash">sudo yum install -y mssql-server</code></pre><p>installiamo inoltre gli strumenti per la riga di comando:</p><pre><code class="language-bash">sudo curl -o /etc/yum.repos.d/msprod.repo https://packages.microsoft.com/config/rhel/7/prod.reposudo yum -y install mssql-tools unixODBC-devel</code></pre><p>una volta ultimato, il server è pronto per la prima inizializzazione.</p><h2>Configurazione</h2><p>Procediamo con la prima esecuzione del server, avviamo il setup guidato tramite:</p><pre><code class="language-bash">sudo /opt/mssql/bin/mssql-conf setup</code></pre><p>Nel primo step ci viene chiesto di selezionare la tipologia di licenza, per scopi personali o istruzione, selezionate uno fra:</p><ul>	<li><strong>Evaluation</strong> (free, no production use rights, 180-day limit)</li>	<li><strong>Developer</strong> (free, no production use rights)</li>	<li><strong>Express</strong> (free)</li></ul><blockquote><p>La licenza di tipo <strong>Express</strong> va bene nella maggior parte dei casi, fate riferimento al <a href="https://www.microsoft.com/en-us/sql-server/sql-server-2017-pricing">sito ufficiale</a>.</p></blockquote><p>procediamo col secondo step in cui accettiamo la licenza del prodotto, infine ci verrà chiesta una password per l'utente admin, ricordiamo di salvarla.</p><h3>Configurazione variabile PATH</h3><p>Per poter utilizzare il server e la riga di comando, dobbiamo aggiungere i binari alla variabile <strong>$PATH</strong>, in questo modo:</p><pre><code class="language-bash">echo 'export PATH=$PATH:/opt/mssql/bin:/opt/mssql-tools/bin' | sudo tee /etc/profile.d/mssql.sh</code></pre><p>Gli strumenti saranno disponibili una volta riavviata la sessione.</p><p>Infine abilitiamo il servizio con systemctl:</p><pre><code class="language-bash">sudo systemctl enable mssql-server</code></pre><p>ed avviamolo:</p><pre><code class="language-bash">sudo systemctl start mssql-server</code></pre><h3>Configurazione Firewall</h3><p>Nel caso fosse abilitato <strong>firewalld</strong> come Firewall di sistema, dobbiamo aggiungere qualche regola per renderlo disponibile all'esterno:</p><pre><code class="language-bash">sudo  firewall-cmd --add-port=1433/tcp --permanentsudo  firewall-cmd --reload</code></pre><p>Ora tutto è pronto per l'utilizzo.</p><p>&nbsp;</p><p>Per dubbi e chiarimenti, fate accesso al nostro gruppo <a href="https://t.me/gentedilinux">Telegram</a>.</p><p><em>?Good *nix&nbsp;</em><strong><em>_Mirko</em></strong></p><p>&nbsp;</p>