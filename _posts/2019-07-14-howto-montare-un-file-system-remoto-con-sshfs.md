---
title: '#howto - Montare un file system remoto con sshfs'
published: 2019-07-14
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - bash  - ssh  - ssh  - bash
---
<p>Sono molti i casi che vedono la necessità, di dover accedere a percorsi remoti da un'altra postazione. Con sshfs possiamo "collegare" una posizione remota da un server/pc ad un altro.</p><h2>Installazione</h2><p>Per prima cosa installiamo il pacchetto <strong>sshfs</strong> (in alcune distribuzioni viene fornito con l'installazione di sistema), di norma questo è presente nelle repository di sistema:</p><pre><code class="language-bash"># Debian/Ubuntu e derivatesudo apt install sshfs# RHEL/Centos e derivatesudo yum install sshfs# Fedora e derivatesudo dnf install sshfs# Arch linux e derivatesudo pacman -S sshfs</code></pre><p>una volta installato controlliamo il suo funzionamento, restituendone la versione con la flag <strong>-V</strong>:</p><pre><code class="language-bash">sshfs -V</code></pre><p>il risultato sarà simile al seguente:</p><pre><code class="language-bash">Version 2.8FUSE library version: 2.9.7fusermount version: 2.9.7using FUSE kernel interface version 7.19</code></pre><h2>Creazione del percorso locale</h2><p>Creiamo ora un percorso locale dove posizionare quello remoto. Cerchiamo di usare una locazione a cui abbiamo accesso per evitare conflitti, nel nostro caso creiamo il percorso <strong>server_docs</strong> nella <strong>home</strong>:</p><pre><code class="language-bash">mkdir $HOME/server_docs</code></pre><h2>Montare il percorso remoto</h2><p>Procediamo col montare il percorso remoto in quello locale appena creato, per farlo:</p><pre><code class="language-bash">sshfs utente@INDIRIZZO_IP:/percorso/ $HOME/server_docs</code></pre><p>dove:</p><ul>	<li><strong>utente</strong> è il nome dell'utente a cui abbiamo accesso sul server remoto</li>	<li><strong>INDIRIZZO_IP</strong> è l'indirizzo IP del server remoto</li>	<li><strong>/percorso/ </strong>è il percorso remoto a cui vogliamo accedere</li>	<li><strong>$HOME/server_docs </strong>il percorso locale dove posizionare quello remoto</li></ul><p>possiamo inoltre usare la flag <strong>-p</strong> per specificare una porta differente:</p><pre><code class="language-bash">.. -p PORTA</code></pre><p>Nel caso in cui il server richieda autenticazione via chiave, possiamo fornire la chiave via flag <strong>-o</strong> e parametro <strong>IdentityFile</strong>:</p><pre><code class="language-bash">.. -o IdentityFile=~/percorso/chiave</code></pre><p>Una volta effettuata la connessione, possiamo accedere al contenuto del percorso remoto, da quello locale. Ovviamente ogni modifica al suo contenuto verrà effettuato in remoto.</p><h3>Montare in modo permanente</h3><p>Nel caso in cui vogliamo montare il percorso remoto in modo permanente nel sistema, possiamo sfruttare il file <strong>fstab</strong>, apriamolo col nostro editor preferito:</p><pre><code class="language-bash">sudo nano /etc/fstab</code></pre><p>ed aggiungiamo alla fine:</p><pre><code class="language-bash">sshfs#utente@INDIRIZZO_IP:percorso/ $HOME/server_docs</code></pre><h2>Smontare il percorso remoto</h2><p>Nel momento in cui vogliamo rimuovere la posizione remota, sfruttiamo il comando <strong>umount</strong>:</p><pre><code class="language-bash">sudo umount $HOME/server_docs</code></pre><p>&nbsp;</p><p><em>Good&nbsp;<strong>*nix</strong>?</em><br /><em>&nbsp;- Mirko</em></p>